<!-- NAVBAR -->
<app-navbar></app-navbar>

<div class="container">
  <br><br>
  <div class="row">
    <div class="col-1"></div>
    <div class="col align-self-center shadow">
      <button [routerLink]="['/articulos']" routerLinkActive="router-link-active" class="close" type="button">
        <span aria-hidden="true">Ã—</span>
      </button>
      <br>
      <h5><i class="fas fa-home"></i>{{accion}}</h5>

      <form (ngSubmit)="guardar()" [formGroup]="forma">

        <div class="form-row">
          <!-- Codigo -->
          <div class="form-group col-md-3">
            <label for="codigo">Codigo</label>
            <input type="text" class="form-control" id="codigo" placeholder="Codigo..." formControlName="codigo"
              [(ngModel)]="articulo.codigo">

            <div class="alert alert-warning" *ngIf="forma.get('codigo').errors?.required && forma.get('codigo').dirty">
              * Este campo es requerido
            </div>

            <div class="alert alert-warning" *ngIf="forma.get('codigo').errors?.pattern">
              * No cumple el formato
            </div>
          </div>

          <!-- Denominacion -->
          <div class="form-group col-md-9">
            <label for="denominacion">Denominacion</label>
            <input type="text" class="form-control" id="denominacion" placeholder="Denominacion..." formControlName="denominacion"
              [(ngModel)]="articulo.denominacion">

            <div class="alert alert-warning" *ngIf="forma.get('denominacion').errors?.required && forma.get('denominacion').dirty">
              * Este campo es requerido
            </div>
          </div>

        </div>

        <div class="form-row">

          <!-- Precio de compra -->
          <div class="form-group col-md-4">
            <label for="precioCompra">Precio de compra</label>
            <input type="number" class="form-control" id="precioCompra" formControlName="precioCompra" [(ngModel)]="articulo.precioCompra">

            <div class="alert alert-warning" *ngIf="forma.get('precioCompra').errors?.required && forma.get('precioCompra').dirty">
              * Este campo es requerido
            </div>

            <div class="alert alert-warning" *ngIf="forma.get('precioCompra').errors?.pattern">
              * No cumple el formato
            </div>
          </div>

          <!-- Precio de venta -->
          <div class="form-group col-md-4">
            <label for="precioVenta">Precio de venta</label>
            <input type="number" class="form-control" id="precioVenta" formControlName="precioVenta" [(ngModel)]="articulo.precioVenta">

            <div class="alert alert-warning" *ngIf="forma.get('precioVenta').errors?.required && forma.get('precioVenta').dirty">
              * Este campo es requerido
            </div>

            <div class="alert alert-warning" *ngIf="forma.get('precioVenta').errors?.pattern">
              * No cumple el formato
            </div>
          </div>

          <!-- IVA -->
          <div class="form-group col-md-4">
            <label for="iva">Iva</label>
            <input type="number" class="form-control" id="iva" formControlName="iva" [(ngModel)]="articulo.iva">

            <div class="alert alert-warning" *ngIf="forma.get('iva').errors?.required && forma.get('iva').dirty">
              * Este campo es requerido
            </div>

            <div class="alert alert-warning" *ngIf="forma.get('iva').errors?.pattern">
              * No cumple el formato
            </div>
          </div>

        </div>

        <div class="form-row">
          <!-- Rubro -->
          <div class="form-group col-md-4">
            <label for="estado">Rubro</label>
            <select class="custom-select" id="rubro" formControlName="rubro" (change)="selectChange()">
              <option *ngFor="let rubro of rubros" [ngValue]="rubro.denominacion">{{rubro.denominacion}}</option>
            </select>
          </div>
        </div>

        <div class="modal-footer">
          <button [routerLink]="['/articulos']" routerLinkActive="router-link-active" class="btn btn-outline-secondary"
            type="button">Cancelar</button>

          <button [disabled]="!forma.valid" class="btn btn-outline-primary" type="submit">Guardar</button>

        </div>
      </form>

    </div>
    <div class="col-1"></div>
  </div>
  <br><br><br>
</div>

<!-- FOOTER -->
<app-footer></app-footer>